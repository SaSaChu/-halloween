<!doctype html>
<html lang="zh-Hant">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>桃園萬聖城</title>
    <link rel="icon" href="images/favicon.webp" type="image/svg+xml">
    <link rel="stylesheet" href="css/index.css">
    
  </head>

  <body>
    <!-- 上方主視覺 -->
    <div class="container-fluid p-0">
      <figure class="m-0">
        <!-- 用你的實際尺寸，避免版面跳動 -->
        <img
          src="images/top-image.webp"
          class="img-fluid w-100 d-block"
          width="1920" height="640"
          alt="2025 桃園萬聖城主視覺：中央卡通蜘蛛，背景城堡與萬聖裝飾。"
          aria-describedby="topPosterInfo"
          fetchpriority="high" decoding="async">
        <figcaption id="topPosterInfo" class="mt-2 visually-hidden">
          <strong>2025 桃園萬聖城</strong>｜
          <time datetime="2025-10-25">10/25</time>–<time datetime="2025-11-02">11/02</time>｜
          桃園藝文廣場＆綠園道
        </figcaption>
      </figure>
    </div>

    <!-- 跳到主內容（鍵盤可用） -->
    <a class="skip-link" href="#mainContent">跳到主內容</a>
    <!-- 讓 sticky 判斷位置的錨點 -->
    <div id="navAnchor" class="visually-hidden" aria-hidden="true"></div>

    <!-- 桌機版主選單 -->
    <div class="nav-wrap d-none d-md-block" id="navWrap">
      <nav aria-label="主選單">
        <div class="nav-hallo wrap-1200">
          <ul class="nav-list" role="menubar" aria-label="萬聖主選單">
            <li class="nav-item" role="none">
              <a class="nav-link is-active" href="#" aria-current="page">
                <img class="pumpkin"
                     src="images/pumpkin-active.webp" alt="" aria-hidden="true"
                     data-src="images/pumpkin.webp"
                     data-hover="images/pumpkin-active.webp"
                     data-active="images/pumpkin-active.webp">
                最新消息
              </a>
            </li>
            <li class="nav-item" role="none">
              <a class="nav-link" href="#topic">
                <img
                  class="pumpkin"
                  src="images/pumpkin.webp"            
                  alt="" aria-hidden="true"
                  data-src="images/pumpkin.webp"       
                  data-hover="images/pumpkin-active.webp"  
                  data-active="images/pumpkin-active.webp" 
                >
                主題活動
              </a>
            </li>
            <li class="nav-item" role="none">
              <a role="menuitem" class="nav-link" href="#stage">
                <img
                  class="pumpkin"
                  src="images/pumpkin.webp"            
                  alt="" aria-hidden="true"
                  data-src="images/pumpkin.webp"       
                  data-hover="images/pumpkin-active.webp"  
                  data-active="images/pumpkin-active.webp" 
                >
                魔幻舞台
              </a>
            </li>
            <li class="nav-item" role="none">
              <a role="menuitem" class="nav-link" href="#traffic">
                <img
                  class="pumpkin"
                  src="images/pumpkin.webp"            
                  alt="" aria-hidden="true"
                  data-src="images/pumpkin.webp"       
                  data-hover="images/pumpkin-active.webp"  
                  data-active="images/pumpkin-active.webp" 
                >
                交通資訊
              </a>
            </li>
            <li class="nav-item" role="none">
              <a role="menuitem" class="nav-link" href="#ally">
                <img
                  class="pumpkin"
                  src="images/pumpkin.webp"            
                  alt="" aria-hidden="true"
                  data-src="images/pumpkin.webp"       
                  data-hover="images/pumpkin-active.webp"  
                  data-active="images/pumpkin-active.webp" 
                >
                萬聖城盟友
              </a>
            </li>
            <li class="nav-item" role="none">
              <a role="menuitem" class="nav-link" href="#route">
                <img
                  class="pumpkin"
                  src="images/pumpkin.webp"            
                  alt="" aria-hidden="true"
                  data-src="images/pumpkin.webp"       
                  data-hover="images/pumpkin-active.webp"  
                  data-active="images/pumpkin-active.webp" 
                >
                順遊景點
              </a>
            </li>
            <li class="nav-item" role="none">
              <a role="menuitem" class="nav-link" href="#en">
                <img
                  class="pumpkin"
                  src="images/pumpkin.webp"            
                  alt="" aria-hidden="true"
                  data-src="images/pumpkin.webp"       
                  data-hover="images/pumpkin-active.webp"  
                  data-active="images/pumpkin-active.webp" 
                >
                English
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </div>

    <!-- 手機版：兩顆按鈕（左：光箱選單 / 右：English） -->
    <div class="mobile-bar d-md-none" aria-label="手機主選單列">
      <div class="wrap-1200 px-3">
        <div class="row g-3 py-2">
          <div class="col-6 mt-0">
            <button id="btnMenu" type="button" class="btn-pill w-100"
                    data-bs-toggle="modal" data-bs-target="#menuModal" aria-haspopup="dialog"
                    aria-controls="menuModal" aria-expanded="false">
              <img class="pumpkin" src="images/pumpkin-active.webp" alt="" aria-hidden="true">
              活動主選單
            </button>
          </div>
          <div class="col-6 mt-0">
            <a class="btn-pill w-100" href="#en">
              <img class="pumpkin" src="images/pumpkin.webp" alt="" aria-hidden="true">
              English
            </a>
          </div>
        </div>
      </div>
    </div>


    <!-- 手機版光箱：Bootstrap Modal -->
    <div class="modal fade modal-menu" id="menuModal" tabindex="-1" aria-labelledby="menuModalLabel" aria-modal="true" role="dialog">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content bg-deeper-purple text-white">
          <div class="modal-header border-0">
            <h2 class="modal-title fs-5" id="menuModalLabel">活動主選單</h2>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="關閉"></button>
          </div>
          <div class="modal-body">
            <ul class="modal-list" role="menu" aria-label="手機選單">
              <li role="none"><a role="menuitem" class="modal-link" href="#"> <img class="pumpkin" src="img/pumpkin-active.svg" alt="" aria-hidden="true"> 最新消息</a></li>
              <li role="none"><a role="menuitem" class="modal-link" href="#topic"> <img class="pumpkin" src="img/pumpkin.svg" alt="" aria-hidden="true"> 主題活動</a></li>
              <li role="none"><a role="menuitem" class="modal-link" href="#stage"> <img class="pumpkin" src="img/pumpkin.svg" alt="" aria-hidden="true"> 魔幻舞台</a></li>
              <li role="none"><a role="menuitem" class="modal-link" href="#traffic"> <img class="pumpkin" src="img/pumpkin.svg" alt="" aria-hidden="true"> 交通資訊</a></li>
              <li role="none"><a role="menuitem" class="modal-link" href="#ally"> <img class="pumpkin" src="img/pumpkin.svg" alt="" aria-hidden="true"> 萬聖城盟友</a></li>
              <li role="none"><a role="menuitem" class="modal-link" href="#route"> <img class="pumpkin" src="img/pumpkin.svg" alt="" aria-hidden="true"> 順遊景點</a></li>
              <li role="none"><a role="menuitem" class="modal-link" href="#en"> <img class="pumpkin" src="img/pumpkin.svg" alt="" aria-hidden="true"> English</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- 主要內容（示意） -->
    <main id="mainContent" class="wrap-1200 py-5">
      <!-- 精彩預告（YouTube 區塊） -->
      <section class="video-area" aria-labelledby="videoTitle">
        <div class="wrap-1200">
          <div class="video-box">
            <h2 id="videoTitle" class="video-title">
              <img src="images/icon01.webp" class="video-icon" alt="綠色火焰icon 黃色火焰icon" aria-hidden="true">
              精彩預告
            </h2>

            <div class="row g-4 video-list">
              <!-- 影片 1 -->
              <div class="col-12 col-md-4">
                <figure class="video-card m-0">
                  <div class="ratio ratio-16x9">
                    <iframe
                      src="https://www.youtube.com/embed/k3Sjrq44bao?si=kxJZ0cavWau2a-AQ""
                      title="精彩預告 1"
                      loading="lazy"
                      referrerpolicy="strict-origin-when-cross-origin"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      allowfullscreen></iframe>
                  </div>
                  <figcaption class="visually-hidden">精彩預告 1：活動花絮與重點介紹</figcaption>
                </figure>
              </div>

              <!-- 影片 2 -->
              <div class="col-12 col-md-4">
                <figure class="video-card m-0">
                  <div class="ratio ratio-16x9">
                    <iframe
                      src="https://www.youtube.com/embed/k3Sjrq44bao?si=kxJZ0cavWau2a-AQ""
                      title="精彩預告 2"
                      loading="lazy"
                      referrerpolicy="strict-origin-when-cross-origin"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      allowfullscreen></iframe>
                  </div>
                  <figcaption class="visually-hidden">精彩預告 2：主持人介紹與現場氛圍</figcaption>
                </figure>
              </div>

              <!-- 影片 3 -->
              <div class="col-12 col-md-4">
                <figure class="video-card m-0">
                  <div class="ratio ratio-16x9">
                    <iframe
                      src="https://www.youtube.com/embed/k3Sjrq44bao?si=kxJZ0cavWau2a-AQ""
                      title="精彩預告 3"
                      loading="lazy"
                      referrerpolicy="strict-origin-when-cross-origin"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      allowfullscreen></iframe>
                  </div>
                  <figcaption class="visually-hidden">精彩預告 3：活動亮點彙整</figcaption>
                </figure>
              </div>
            </div>
          </div>
        </div>
      </section>

    </main>
    
    <!-- 下方主視覺 -->
    <div class="container-fluid p-0">
      <figure class="m-0">
        <img
          src="images/down-image.webp"
          class="img-fluid w-100 d-block"
          width="1920" height="640"
          alt="2025 桃園萬聖城主視覺：中央巨型南瓜，兩側拱橋與鬼怪裝飾。"
          aria-describedby="downPosterInfo"
          loading="lazy" decoding="async">
        <figcaption id="downPosterInfo" class="mt-2 visually-hidden">
          <strong>2025 桃園萬聖城</strong>｜
          <time datetime="2025-10-25">10/25</time>–<time datetime="2025-11-02">11/02</time>｜
          平日 <time datetime="17:00">17:00</time>–<time datetime="21:00">21:00</time>｜
          假日 <time datetime="12:00">12:00</time>–<time datetime="22:00">22:00</time>
        </figcaption>
      </figure>
    </div>
    


    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script language="javascript" type="text/javascript" src="js/index.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const nav = document.querySelector('.menu-bar');   // 確認你的桌機選單 class 是 .menu-bar
        if (!nav) return;

        const mqDesktop = window.matchMedia('(min-width: 992px)');

        // 建哨兵 + 佔位，不改你的 HTML
        const sentinel = document.createElement('span');
        sentinel.className = 'menu-sentinel';
        sentinel.setAttribute('aria-hidden', 'true');
        nav.parentNode.insertBefore(sentinel, nav);

        const placeholder = document.createElement('div');
        placeholder.className = 'menu-placeholder';
        placeholder.setAttribute('aria-hidden', 'true');
        nav.parentNode.insertBefore(placeholder, nav.nextSibling);

        let io, onScrollBound;

        function setPH() {
          placeholder.style.height = nav.classList.contains('is-fixed') ? nav.offsetHeight + 'px' : '0px';
        }

        // 以 IntersectionObserver 為主，無支援時改用 scroll 監聽
        function enableSticky() {
          disableSticky();

          if ('IntersectionObserver' in window) {
            io = new IntersectionObserver((entries) => {
              const e = entries[0];
              if (!e.isIntersecting) nav.classList.add('is-fixed');
              else nav.classList.remove('is-fixed');
              setPH();
            }, { rootMargin: '0px 0px 0px 0px', threshold: 0 });
            io.observe(sentinel);
          } else {
            const onScroll = () => {
              const rect = sentinel.getBoundingClientRect();
              if (rect.top <= 0) nav.classList.add('is-fixed');
              else nav.classList.remove('is-fixed');
              setPH();
            };
            onScrollBound = onScroll;
            window.addEventListener('scroll', onScrollBound, { passive: true });
            onScroll(); // 進場即判斷一次
          }

          window.addEventListener('resize', setPH);
          setPH();
        }

        function disableSticky() {
          if (io) { io.disconnect(); io = null; }
          if (onScrollBound) { window.removeEventListener('scroll', onScrollBound); onScrollBound = null; }
          nav.classList.remove('is-fixed');
          placeholder.style.height = '0px';
          window.removeEventListener('resize', setPH);
        }

        function handleMQ(e) { e.matches ? enableSticky() : disableSticky(); }
        handleMQ(mqDesktop);
        // Safari 舊版用 addListener
        if (mqDesktop.addEventListener) mqDesktop.addEventListener('change', handleMQ);
        else mqDesktop.addListener(handleMQ);
      });
      </script>
  </body>


</html>
